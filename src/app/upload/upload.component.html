
<div class="myModal-back">
  <div class="container">
  <div *ngIf='error' ng-class="{fade:doFade}" class="alert alert-danger"><strong>Erreur:</strong> {{error.message}}</div>
  <div *ngIf='success' ng-class="{fade:doFade}" class="alert alert-success">{{success.message}}</div>
  <h1 class="text-center">Upload a new video</h1><br>
  <form #form="ngForm" (submit)="submit(form.value)" class="form">
    <div  *ngIf='video'>
      <div class="form-content">
        <div class="thumbnail-selector-form form-group text-center">
          <div (click)="thumbnailSelect = true" class="img-container">
            <img class="thumbnail-img" [hidden]="thumbnailURL" [src]="thumbURL" >
            <div class="overlay">
              <div class="text"><span class="glyphicon">&#x270f;</span>&nbsp;&nbsp;Edit Thumbnail</div>
            </div>
          </div>
          <app-thumbnail-selector [hidden]="!thumbnailSelect" (notify)='onNotify($event)' [video]=video></app-thumbnail-selector>
        </div>
        <div class="input-selector-form">
          <div class="form-group text-center">
            <label><b>Title:</b></label>
            <input class="form-control" id="title" type="text" name="title" style="text-align:center">
          </div>
          <div class="form-group text-center">
            <label><b>Description:</b></label>
            <textarea class="form-control" id="description" maxlength=255 placeholder="max 255 characters" name="description" style="text-align:center"></textarea>
          </div>
        </div>
      </div>

    </div>
    <div class="form-group bottom-buttons text-center">
      <label class="btn btn-primary" for="video">
        <input id="video" type="file" name="video" accept="video/*" style="display:none"
        (change)="handleFileInput($event.target.files)">
        {{video ? 'Change video': 'Choose your video'}}
      </label>
      <div *ngIf="video" class="button-submit-form text-center"><button type="submit" class="btn btn-success">Submit</button>
        <div  *ngIf="loading"><i class="fa fa-spinner fa-spin"></i>Uploading</div>
      </div>
    </div>
</form>
</div>
</div>
